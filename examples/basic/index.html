<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta http-equiv="X-UA-Compatible" content="ie=edge" />
  <title>Example</title>
</head>

<body>
  <div id="container"></div>
  <script src="../../build/reglmapanimation.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/5.15.0/d3.min.js"
    integrity="sha256-m0QmIsBXcOMiETRmpT3qg2IQ/i0qazJA2miCHzOmS1Y=" crossorigin="anonymous"></script>
  <script>
    d3.csv("../../assets/csv/pop_grid_5km.csv", d => {
      return {
        value: d.value,
        y: +d.y, //add removed zeros to make true EPSG3035
        x: +d.x
      };
    }).then(pointData => {
      let width = Math.min(window.innerWidth, 900);
      let height = Math.min(window.innerHeight, 700);
      let container = document.getElementById("container");
      container.style.height = height + "px";
      container.style.width = width + "px";
      ReglMapAnimation.animation()
        .container(container)
        .pointData(pointData)
        .width(width)
        .height(height)
        .colors([
          //"#2d50a0",
          "#00227a",
          "#6487c3",
          "rgb(142, 156, 180)",
          "#f0cd91",
          "rgb(235, 185, 98)",
          "#e6a532",
          "rgb(223, 138, 48)",
          "#d76e2d"
        ])
        .stops([0, 1, 250, 750, 1500, 3000, 7500, 25000])
        .duration(2000)
        .delayAtEnd(2000)
        .binLabels(true)
        .legend(true)
        .legendHeight(250)
        .legendTitle("Population per 5 kmÂ²")
        .binLabelOffsetX(30)
        .animate();
    });
  </script>
</body>

</html>

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Example</title>
  </head>
  <body>
    <script src="../../build/reglmapanimation.js"></script>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/d3/5.15.0/d3.min.js"
      integrity="sha256-m0QmIsBXcOMiETRmpT3qg2IQ/i0qazJA2miCHzOmS1Y="
      crossorigin="anonymous"
    ></script>
    <script>
      d3.csv("../../assets/csv/pop_2011_3035_5km.csv", d => {
        return {
          value: d.value,
          y: +d.y, //add removed zeros to make true EPSG3035
          x: +d.x
        };
      }).then(pointData => {
        ReglMapAnimation.animate({
          pointData,
          duration: 1000,
          delayAtEnd: 1000,
          legend: true,
          legendTitle: "Population per 5km²",
          binLabels: true,

          binLabelFunction: function(bin) {
            return (bin.binCount * 5).toLocaleString() + "km²";
          }
        });
      });
    </script>
  </body>
</html>
